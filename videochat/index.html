<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>TelecoVideo</title>
<style>
	body {
		font-family: Arial, sans-serif;
		margin: 0;
		padding: 0;
		background-color: #f4f4f9;
		color: #333;
	}

	#mainDiv {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		padding: 20px;
	}

	#mainDiv > div {
		flex: 1;
		margin: 10px;
	}

	table {
		width: 100%;
		border-collapse: collapse;
		height: 80vh;
		background-color: #fff;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		border-radius: 8px;
		overflow: hidden;
	}
	#videoContainer {
    	flex: 0.7;
    	display: flex;
    	flex-direction: column;
    	align-items: center;
	}

	th, td {
		padding: 10px;
		text-align: center;
		border: 1px solid #ddd;
	}

	th {
		background-color: #007BFF;
		color: white;
	}

	video {
		width: 100%;
		border-radius: 8px;
	}

	textarea {
		width: 90%;
		border: 1px solid #ddd;
		border-radius: 4px;
		padding: 10px;
		font-size: 14px;
		resize: none;
	}

	button {
		background-color: #007BFF;
		color: white;
		border: none;
		padding: 10px 20px;
		border-radius: 4px;
		cursor: pointer;
		font-size: 14px;
	}

	button:disabled {
		background-color: #ccc;
		cursor: not-allowed;
	}

	#chatContainer {
		position: absolute;
		bottom: 10px;
    	left: 20px;
    	width: 300px;
    	background-color: rgba(255, 255, 255, 0.8);
    	padding: 20px;
    	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    	border-radius: 8px;
		align-items: flex-start;
		z-index: 10;
	}

	#dataChannelSend {
    	align-self: flex-start;
    	text-align: left;
	}

	#dataChannelReceive {
		align-self: flex-start;
		text-align: right;
	}

/* Ajustar el tamaño de los videos */
#remoteVideosContainer video,
    #localVideo {
        width: 500px; /* Tamaño uniforme para todos los videos */
        /*height: 150px;  Ajusta la altura para mantener proporción */
        border-radius: 8px;
        object-fit: cover; /* Asegura que el video se ajuste al tamaño */
    }

    /* Contenedor de videos remotos */
    #remoteVideosContainer {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        align-items: center;
    }

    /* Asegurar que la tabla no ocupe más espacio del necesario */
    table {
        width: auto; /* Ajusta el ancho automáticamente */
        margin: 0 auto; /* Centra la tabla */
    }	

	#chatContainer textarea {
		margin-bottom: 10px;
	}
</style>
</head>
<body>

<div id='mainDiv'>
	<div id="chatContainer">
		<textarea rows="4" cols="30" id="dataChannelSend" disabled
			placeholder="This will be enabled once the data channel is up..."></textarea>
		<textarea rows="4" cols="30" id="dataChannelReceive" disabled></textarea>
		<button id="sendButton" disabled>Send</button>
	</div>
	<div>
		<table>
			<tr>
				<th>Local video</th>
				<th>'Remote' video</th>
			</tr>
			<tr>
				<td><video id="localVideo" muted autoplay></video></td>
				<td><div id="remoteVideosContainer" style="display: flex; flex-wrap: wrap; gap: 10px;"></div></td>
			</tr>
		</table>
	</div>
</div>

<script src='/socket.io/socket.io.js'></script>
<script src='js/completeNodeClientWithDataChannel.js'></script>

</body>
</html>
